# SENNSE-Target-Generator Microservice

This repository contains the **SENNSE-Target-Generator**, a microservice built with **Express.js**.  
It is part of the SENNSE-AR platform and is responsible for generating **image tracking targets** for Augmented Reality using the open-source [MindAR](https://hiukim.github.io/mind-ar-js-doc/) library.

---

## üéØ Objective

The purpose of this microservice is to handle image input (such as QR codes from the Spring Boot microservice) and process them into **target files** that can be used by AR applications.  

This README explains the internal structure of the project, how it works, and how to run it if you wish to improve or extend functionality.

---

## üìÇ Project Structure

The service is organized into the following main directories:

### 1. **`image-target/`**
- Contains a customized copy of the **MindAR generator tool**.  
- Unnecessary files from the original MindAR library have been removed.  
- This tool is responsible for generating AR **target files** from input images.

---

### 2. **`public/images/`**
- Stores input images provided by other microservices (e.g., QR code images generated by the Spring Boot service).  
- Images are stored as **static files** so they can be easily processed by the target generator.

---

### 3. **`public/target/`**
- Stores the **output files** generated by the MindAR scripts.  
- These files represent the AR targets that can be consumed by frontend or mobile AR applications.

---

### 4. **`routes/`**
- Defines the **API endpoints** exposed by the microservice.  
- Routes map HTTP requests (e.g., `POST /sennse-target-generator`) to the appropriate service logic.  
- In Express.js, routes serve as the **entry points** for interacting with the backend.

---

### 5. **`services/`**
- Contains the **business logic** of the microservice.  
- Handles incoming requests passed from the routes.  
- Responsibilities include:
  - Validating input images.  
  - Triggering the MindAR generator to create AR targets.  
  - Managing file paths and outputs for consistent integration with other microservices.  
- By separating routes and services, the codebase remains modular and easier to maintain.

---

## ‚ñ∂Ô∏è Running the Service

### Prerequisites
- [Node.js 18+](https://nodejs.org/)  
- [npm](https://www.npmjs.com/)  

### Run Locally
```bash
# Clone repository
git clone https://github.com/MedDali-Jaziri/SENNSE_AR.git
cd SENNSE_AR/sennse-target-generator

# Install dependencies
npm install

# Run application
npm start
```

### Run Locally (Docker version)
```bash
# Build the Docker Image
Docker build -t meddali/sennse-ar-nodejs:latest .

# Run the Docker Image
Docker run -r 3030:3030 meddali/sennse-ar-nodejs:latest
```
---
## üìñ Future Improvements
- Improve error handling for invalid or corrupted image inputs.
- Add support for batch processing multiple images at once.
- Externalize file storage to cloud instead of local `public/` folders.
- Enhance API documentation (e.g., Swagger or OpenAPI support).
---

## ü§ù Contribution

We welcome contributions!

1. Fork the repository.
2. Create a feature branch (`git checkout -b feature-name`).
3. Commit changes (`git commit -m 'Add feature'`).
4. Push to your fork (`git push origin feature-name`).
5. Open a Pull Request.